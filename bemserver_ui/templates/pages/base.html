{% import "macros/flash.html" as mac_flash %}
{% extends "pages/skeleton.html" %}

{% block head_styles %}
{{ super() -}}
{% filter indent(width=8, first=True) %}
<link rel="stylesheet" media="all" href="{{ url_for('static', filename='styles/app.css') }}">
{% endfilter %}
{% endblock head_styles %}

{% block body_content %}
{{ super() -}}
{% include "components/header.html" +%}
<div class="container-fluid h-100">
    <div class="row h-100">
        {% filter indent(width=8, first=True) %}
        {% include "components/sidebar.html" %}
        {% endfilter +%}
        <main class="col-md-9 ms-sm-auto col-xl-10 px-md-4 app-content">
            {% block main_title %}
            <div class="d-lg-flex d-grid justify-content-lg-between justify-content-center align-items-center gap-3 mb-lg-4">
                <div class="hstack gap-3">
                    <h1>{{ title }}</h1>
                    {% if subtitle %}
                    <div class="vr"></div>
                    <h2>{{ subtitle }}</h2>
                    {% endif %}
                </div>
                <div class="me-lg-4">
                    {% block main_toolbar %}
                    {% endblock main_toolbar %}
                </div>
            </div>
            <hr class="d-lg-none d-block">
            {% endblock main_title %}
            <div id="messages">
                {{- mac_flash.display_messages() }}
            </div>
            {% filter indent(width=12, first=True) %}
            {% block main_content %}
            {% endblock main_content %}
            {% endfilter %}
        </main>
    </div>
</div>
{% endblock body_content %}

{% block body_scripts %}
{{ super() -}}
{% filter indent(width=8, first=True) %}
<script type="module" src="{{ url_for('static', filename='scripts/app.js') }}"></script>
{% endfilter %}
{% endblock body_scripts %}