{% extends "pages/base.html" %}
{% import "macros/components/campaign.html" as mac_camp %}

{% set title = "Upload timeseries" %}

{% block main_content %}
{{ super() -}}
<div class="container-fluid">
    <div class="row g-5 mb-3">
        <div class="col-auto">
            <h5>Campaign</h5>
            {{- mac_camp.render_campaign_info(g.campaign_ctxt.name, g.campaign_ctxt.campaign.state, render_style="bullet") }}
        </div>
    </div>
    <div class="row">
        <div class="col">
            <form action="{{ url_for('timeseries.upload') }}" enctype="multipart/form-data" method="POST">
                <fieldset>
                    <legend class="invisible d-none">Timeseries file</legend>
                    <div class="mb-3">
                        <label class="form-label" for="timeseries_csv"><span class="fw-bold">Timeseries</span> CSV file</label>
                        <input type="file" class="form-control" id="timeseries_csv" name="timeseries_csv" accept=".csv" aria-label="Select a CSV file" required autofocus>
                    </div>
                    <div class="d-flex justify-content-end gap-2">
                        <a href="{{ url_for('timeseries.list') }}" class="btn btn-sm btn-outline-secondary" title="Cancel">Cancel</a>
                        <button type="submit" class="btn btn-sm btn-primary" title="Upload file"><i class="bi bi-upload"></i> Upload</button>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>
</div>
{% endblock main_content %}